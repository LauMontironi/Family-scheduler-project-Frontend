<div class="register-card">
    <h2 class="title">Create your account</h2>
    <p class="subtitle">Join your family space</p>

    <form [formGroup]="form" (ngSubmit)="submit()">

        <!-- Full name -->
        <div class="form-group">
            <label for="fullName">Full name</label>
            <input id="fullName" type="text" class="form-control" formControlName="full_name" placeholder="Jane Doe" />

            @if(checkError('full_name','required')){

            <p class="error">El campo nombre es requerido</p>
            }
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" class="form-control" formControlName="email"
                placeholder="email@example.com" />
            @if(checkError('email','required')){
            
            <p class="error">El campo email es requerido</p>
            }
            @if(checkError('email','pattern')){
            
            <p class="error">El email n tiene la estructura correcta</p>
            }
        </div>

        <!-- Password -->
        <div class="form-group">
            <label for="password">Password</label>

            <div class="password-wrapper">
                <input id="password" [type]="inputType()" class="form-control" formControlName="password"
                    placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
                 @if(checkError('password','minlength')){
                    <p class="error">El password tiene que teer un minimo de 6 digitos</p>
                                }

                <input id="password_repeat" [type]="inputType()" class="form-control" formControlName="password_repeat" placeholder="Repite el password"  (blur)="checkPasswords()"/>

                @if(checkError('password_repeat','passwordMismatch')){
                
                <p class="error">Las contraseÃ±as no coinciden</p>
                }

                <button type="button" class="toggle-password" (click)="pulsarVerPassword()"
                    aria-label="Toggle password visibility">
                    {{ inputType() === 'password' ? 'ðŸ‘“' : 'ðŸ™ˆ' }}
                </button>
            </div>
        </div>

        <!-- Submit -->
        <button class="btn btn-primary w-100 mt-3" type="submit" [disabled]="loading">
            {{ loading ? 'Registering...' : 'Register' }}
        </button>

        @if (message) {
        <p class="mt-3 text-center">{{ message }}</p>
        }

    </form>
</div>

